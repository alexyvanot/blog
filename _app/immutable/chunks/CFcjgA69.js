import{av as b,aw as m,a as H,ag as R,r as Y,ax as z,ay as F,i as $,az as I,m as j,aA as G,n as w,aa as O,aB as q,aq as S,a9 as g,a8 as N,y as h,z as V,aC as A,at as L,o as x,ab as J,as as K,aD as Q,am as U,af as X,aE as Z,v as aa,G as ea,c as ta,q as ra,I as na}from"./DPVdzS7R.js";const ia=["touchstart","touchmove"];function sa(a){return ia.includes(a)}function oa(a){var e=H,r=R;b(null),m(null);try{return a()}finally{b(e),m(r)}}const ua=new Set,k=new Set;function la(a,e,r,i={}){function s(t){if(i.capture||E.call(e,t),!t.cancelBubble)return oa(()=>r==null?void 0:r.call(this,t))}return a.startsWith("pointer")||a.startsWith("touch")||a==="wheel"?z(()=>{e.addEventListener(a,s,i)}):e.addEventListener(a,s,i),s}function _a(a,e,r,i,s){var t={capture:i,passive:s},l=la(a,e,r,t);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Y(()=>{e.removeEventListener(a,l,t)})}function E(a){var C;var e=this,r=e.ownerDocument,i=a.type,s=((C=a.composedPath)==null?void 0:C.call(a))||[],t=s[0]||a.target,l=0,v=a.__root;if(v){var d=s.indexOf(v);if(d!==-1&&(e===document||e===window)){a.__root=e;return}var y=s.indexOf(e);if(y===-1)return;d<=y&&(l=d)}if(t=s[l]||a.target,t!==e){F(a,"currentTarget",{configurable:!0,get(){return t||r}});var D=H,f=R;b(null),m(null);try{for(var n,o=[];t!==null;){var c=t.assignedSlot||t.parentNode||t.host||null;try{var _=t["__"+i];if(_!=null&&(!t.disabled||a.target===t))if($(_)){var[P,...W]=_;P.apply(t,[a,...W])}else _.call(t,a)}catch(T){n?o.push(T):n=T}if(a.cancelBubble||c===e||c===null)break;t=c}if(n){for(let T of o)queueMicrotask(()=>{throw T});throw n}}finally{a.__root=e,delete a.currentTarget,b(D),m(f)}}}let u;function fa(){u=void 0}function ha(a){let e=null,r=w;var i;if(w){for(e=h,u===void 0&&(u=V(document.head));u!==null&&(u.nodeType!==O||u.data!==q);)u=S(u);u===null?g(!1):u=N(S(u))}w||(i=document.head.appendChild(I()));try{j(()=>a(i),G)}finally{r&&(g(!0),u=h,N(e))}}function va(a,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=r,a.nodeValue=r+"")}function ca(a,e){return B(a,e)}function ya(a,e){A(),e.intro=e.intro??!1;const r=e.target,i=w,s=h;try{for(var t=V(r);t&&(t.nodeType!==O||t.data!==q);)t=S(t);if(!t)throw L;g(!0),N(t),x();const l=B(a,{...e,anchor:t});if(h===null||h.nodeType!==O||h.data!==J)throw K(),L;return g(!1),l}catch(l){if(l===L)return e.recover===!1&&Q(),A(),U(r),g(!1),ca(a,e);throw l}finally{g(i),N(s),fa()}}const p=new Map;function B(a,{target:e,anchor:r,props:i={},events:s,context:t,intro:l=!0}){A();var v=new Set,d=f=>{for(var n=0;n<f.length;n++){var o=f[n];if(!v.has(o)){v.add(o);var c=sa(o);e.addEventListener(o,E,{passive:c});var _=p.get(o);_===void 0?(document.addEventListener(o,E,{passive:c}),p.set(o,1)):p.set(o,_+1)}}};d(X(ua)),k.add(d);var y=void 0,D=Z(()=>{var f=r??e.appendChild(I());return aa(()=>{if(t){ea({});var n=ta;n.c=t}s&&(i.$$events=s),w&&ra(f,null),y=a(f,i)||{},w&&(R.nodes_end=h),t&&na()}),()=>{var c;for(var n of v){e.removeEventListener(n,E);var o=p.get(n);--o===0?(document.removeEventListener(n,E),p.delete(n)):p.set(n,o)}k.delete(d),f!==r&&((c=f.parentNode)==null||c.removeChild(f))}});return M.set(y,D),y}let M=new WeakMap;function pa(a,e){const r=M.get(a);return r?(M.delete(a),r(e)):Promise.resolve()}export{ha as a,_a as e,ya as h,ca as m,va as s,pa as u};
